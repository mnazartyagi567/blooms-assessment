(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,a,t){e.exports=t(31)},31:function(e,a,t){"use strict";t.r(a);var l=t(0),n=t.n(l),s=t(15),c=t.n(s),m=t(35);var r=function(){const[e,a]=Object(l.useState)([]),[t,s]=Object(l.useState)({question_no:"",level:"",keywords:"",specification:"",co:"",po:""}),c=async()=>{try{const t=await m.a.get("http://localhost:5000/api/questions");a(t.data.questions)}catch(e){console.error("Error fetching questions:",e)}};Object(l.useEffect)(()=>{c()},[]);const r=e=>{s({...t,[e.target.name]:e.target.value})};return n.a.createElement("div",null,n.a.createElement("h3",null,"Question Mapping"),n.a.createElement("form",{onSubmit:async e=>{e.preventDefault();try{await m.a.post("http://localhost:5000/api/questions",t),s({question_no:"",level:"",keywords:"",specification:"",co:"",po:""}),c()}catch(a){console.error("Error adding question:",a)}},className:"row g-3 mb-4"},n.a.createElement("div",{className:"col-md-2"},n.a.createElement("label",{className:"form-label"},"Question No"),n.a.createElement("input",{className:"form-control",name:"question_no",value:t.question_no,onChange:r,required:!0})),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("label",{className:"form-label"},"Level"),n.a.createElement("input",{className:"form-control",name:"level",value:t.level,onChange:r,required:!0})),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("label",{className:"form-label"},"Keywords"),n.a.createElement("input",{className:"form-control",name:"keywords",value:t.keywords,onChange:r})),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("label",{className:"form-label"},"Specification"),n.a.createElement("input",{className:"form-control",name:"specification",value:t.specification,onChange:r})),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("label",{className:"form-label"},"CO (optional)"),n.a.createElement("input",{className:"form-control",name:"co",value:t.co,onChange:r})),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("label",{className:"form-label"},"PO (optional)"),n.a.createElement("input",{className:"form-control",name:"po",value:t.po,onChange:r})),n.a.createElement("div",{className:"col-12"},n.a.createElement("button",{type:"submit",className:"btn btn-success"},"Add Question"))),n.a.createElement("h5",null,"Existing Questions"),n.a.createElement("ul",{className:"list-group"},e.map(e=>n.a.createElement("li",{key:e.id,className:"list-group-item"},n.a.createElement("strong",null,"Q",e.question_no)," - ",e.level," | ",e.keywords," | ",e.specification,e.co&&` | CO: ${e.co}`,e.po&&` | PO: ${e.po}`))))};var o=function(e){let{onSelectAssessment:a,onViewReport:t}=e;const[s,c]=Object(l.useState)([]),[r,o]=Object(l.useState)(""),[u,i]=Object(l.useState)(""),[d,E]=Object(l.useState)([]),[b,p]=Object(l.useState)(""),v=async()=>{const e=await m.a.get("http://localhost:5000/api/assessments");c(e.data.assessments)};return Object(l.useEffect)(()=>{v(),(async()=>{const e=await m.a.get("http://localhost:5000/api/courses");E(e.data.courses)})()},[]),n.a.createElement("div",null,n.a.createElement("h3",null,"Assessments"),n.a.createElement("form",{onSubmit:async e=>{e.preventDefault(),await m.a.post("http://localhost:5000/api/assessments",{name:r,date:u,course_id:b}),o(""),i(""),p(""),v()},className:"row g-3 mb-4"},n.a.createElement("div",{className:"col-md-3"},n.a.createElement("label",{className:"form-label"},"Name"),n.a.createElement("input",{className:"form-control",value:r,onChange:e=>o(e.target.value),placeholder:"e.g. Midterm Exam",required:!0})),n.a.createElement("div",{className:"col-md-3"},n.a.createElement("label",{className:"form-label"},"Date"),n.a.createElement("input",{className:"form-control",type:"date",value:u,onChange:e=>i(e.target.value)})),n.a.createElement("div",{className:"col-md-3"},n.a.createElement("label",{className:"form-label"},"Course"),n.a.createElement("select",{className:"form-select",value:b,onChange:e=>p(e.target.value)},n.a.createElement("option",{value:""},"-- No Course --"),d.map(e=>n.a.createElement("option",{key:e.id,value:e.id},e.name," (",e.code,")")))),n.a.createElement("div",{className:"col-md-3 d-flex align-items-end"},n.a.createElement("button",{type:"submit",className:"btn btn-primary w-100"},"Create Assessment"))),n.a.createElement("ul",{className:"list-group"},s.map(e=>n.a.createElement("li",{key:e.id,className:"list-group-item d-flex justify-content-between align-items-center"},n.a.createElement("div",null,n.a.createElement("strong",null,e.name)," ",e.date?`(${e.date})`:"",e.course_name&&n.a.createElement("span",{className:"text-muted ms-2"},"[",e.course_name,"]")),n.a.createElement("div",null,n.a.createElement("button",{className:"btn btn-sm btn-secondary me-2",onClick:()=>a(e.id)},"Details"),n.a.createElement("button",{className:"btn btn-sm btn-info",onClick:()=>t(e.id)},"View Report"))))))};var u=function(e){let{assessmentId:a}=e;const[t,s]=Object(l.useState)([]),[c,r]=Object(l.useState)([]),[o,u]=Object(l.useState)(""),[i,d]=Object(l.useState)({grade_a_count:"",grade_b_count:"",grade_c_count:"",grade_d_count:"",total_appeared:""}),[E,b]=Object(l.useState)([]),[p,v]=Object(l.useState)(""),[g,N]=Object(l.useState)("0");Object(l.useEffect)(()=>{f(),h(),_()},[]);const f=async()=>{const e=await m.a.get(`http://localhost:5000/api/assessments/${a}/questions`);s(e.data.questions)},h=async()=>{const e=await m.a.get("http://localhost:5000/api/questions");r(e.data.questions)},_=async()=>{const e=await m.a.get("http://localhost:5000/api/students");b(e.data.students)};return n.a.createElement("div",null,n.a.createElement("h4",null,"Assessment Detail (ID: ",a,")"),n.a.createElement("div",{className:"my-3"},n.a.createElement("label",{className:"form-label"},"Select Question to Add:"),n.a.createElement("div",{className:"d-flex"},n.a.createElement("select",{className:"form-select me-2",value:o,onChange:e=>u(e.target.value)},n.a.createElement("option",{value:""},"-- Choose --"),c.map(e=>n.a.createElement("option",{key:e.id,value:e.id},"Q",e.question_no," (",e.level,")"))),n.a.createElement("button",{className:"btn btn-success",onClick:async()=>{o&&(await m.a.post("http://localhost:5000/api/assessments/add-question",{assessment_id:a,question_id:o}),u(""),f())}},"Add to Assessment"))),n.a.createElement("hr",null),n.a.createElement("h5",null,"Questions in this Assessment"),0===t.length&&n.a.createElement("p",null,"No questions added yet."),t.map(e=>n.a.createElement("div",{key:e.id,className:"border rounded p-2 mb-3"},n.a.createElement("strong",null,"Q",e.question_no," - ",e.level),n.a.createElement("p",{className:"mb-1"},"Keywords: ",e.keywords," | Spec: ",e.specification),n.a.createElement("div",{className:"row g-2 align-items-end mb-2"},n.a.createElement("div",{className:"col-md-2"},n.a.createElement("label",{className:"form-label"},"A Count"),n.a.createElement("input",{className:"form-control",type:"number",value:i.grade_a_count,onChange:e=>d(a=>({...a,grade_a_count:e.target.value}))})),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("label",{className:"form-label"},"B Count"),n.a.createElement("input",{className:"form-control",type:"number",value:i.grade_b_count,onChange:e=>d(a=>({...a,grade_b_count:e.target.value}))})),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("label",{className:"form-label"},"C Count"),n.a.createElement("input",{className:"form-control",type:"number",value:i.grade_c_count,onChange:e=>d(a=>({...a,grade_c_count:e.target.value}))})),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("label",{className:"form-label"},"D Count"),n.a.createElement("input",{className:"form-control",type:"number",value:i.grade_d_count,onChange:e=>d(a=>({...a,grade_d_count:e.target.value}))})),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("label",{className:"form-label"},"Total Appeared"),n.a.createElement("input",{className:"form-control",type:"number",value:i.total_appeared,onChange:e=>d(a=>({...a,total_appeared:e.target.value}))})),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("button",{className:"btn btn-primary w-100",onClick:()=>(async e=>{await m.a.post("http://localhost:5000/api/grades",{assessment_id:a,question_id:e,grade_a_count:i.grade_a_count,grade_b_count:i.grade_b_count,grade_c_count:i.grade_c_count,grade_d_count:i.grade_d_count,total_appeared:i.total_appeared}),alert("Grades saved!"),d({grade_a_count:"",grade_b_count:"",grade_c_count:"",grade_d_count:"",total_appeared:""})})(e.id)},"Save Grades"))),n.a.createElement("div",{className:"row g-2 align-items-end"},n.a.createElement("div",{className:"col-md-3"},n.a.createElement("label",{className:"form-label"},"Select Student"),n.a.createElement("select",{className:"form-select",value:p,onChange:e=>v(e.target.value)},n.a.createElement("option",{value:""},"-- Choose Student --"),E.map(e=>n.a.createElement("option",{key:e.id,value:e.id},e.name," (Roll: ",e.roll_no,")")))),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("label",{className:"form-label"},"Is Correct?"),n.a.createElement("select",{className:"form-select",value:g,onChange:e=>N(e.target.value)},n.a.createElement("option",{value:"0"},"Incorrect"),n.a.createElement("option",{value:"1"},"Correct"))),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("button",{className:"btn btn-success w-100",onClick:()=>(async e=>{p?(await m.a.post("http://localhost:5000/api/attempts",{student_id:p,assessment_id:a,question_id:e,is_correct:"1"===g?1:0}),alert("Attempt recorded!"),v(""),N("0")):alert("Select a student first.")})(e.id)},"Record Attempt"))))))},i=t(16);t(28),t(11),t(14);var d=function(e){let{assessmentId:a}=e;const[t,s]=Object(l.useState)(null);Object(l.useEffect)(()=>{c()},[]);const c=async()=>{const e=await m.a.get(`http://localhost:5000/api/grades/report/${a}`);s(e.data)};if(!t)return n.a.createElement("p",null,"Loading report...");const r=Object.keys(t.summary),o=r.map(e=>t.summary[e].a),u=r.map(e=>t.summary[e].b),d=r.map(e=>t.summary[e].c),E=r.map(e=>t.summary[e].d),b={labels:r,datasets:[{label:"A Count",data:o,backgroundColor:"rgba(75, 192, 192, 0.8)"},{label:"B Count",data:u,backgroundColor:"rgba(54, 162, 235, 0.8)"},{label:"C Count",data:d,backgroundColor:"rgba(255, 206, 86, 0.8)"},{label:"D Count",data:E,backgroundColor:"rgba(255, 99, 132, 0.8)"}]};return n.a.createElement("div",null,n.a.createElement("h4",null,"Assessment Report (ID: ",a,")"),n.a.createElement("div",{style:{maxWidth:"600px",marginBottom:"20px"}},n.a.createElement(i.a,{data:b})),n.a.createElement("h5",null,"Detailed Question Grades"),n.a.createElement("table",{className:"table table-bordered"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Question"),n.a.createElement("th",null,"Level"),n.a.createElement("th",null,"A"),n.a.createElement("th",null,"B"),n.a.createElement("th",null,"C"),n.a.createElement("th",null,"D"),n.a.createElement("th",null,"Total"))),n.a.createElement("tbody",null,t.data.map(e=>n.a.createElement("tr",{key:e.id},n.a.createElement("td",null,"Q",e.question_no),n.a.createElement("td",null,e.level),n.a.createElement("td",null,e.grade_a_count),n.a.createElement("td",null,e.grade_b_count),n.a.createElement("td",null,e.grade_c_count),n.a.createElement("td",null,e.grade_d_count),n.a.createElement("td",null,e.total_appeared))))),n.a.createElement("h5",null,"Bloom\u2019s Level Summary"),n.a.createElement("table",{className:"table table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Level"),n.a.createElement("th",null,"A"),n.a.createElement("th",null,"B"),n.a.createElement("th",null,"C"),n.a.createElement("th",null,"D"),n.a.createElement("th",null,"Total"))),n.a.createElement("tbody",null,Object.entries(t.summary).map(e=>{let[a,t]=e;return n.a.createElement("tr",{key:a},n.a.createElement("td",null,a),n.a.createElement("td",null,t.a),n.a.createElement("td",null,t.b),n.a.createElement("td",null,t.c),n.a.createElement("td",null,t.d),n.a.createElement("td",null,t.total))}))))};var E=function(){const[e,a]=Object(l.useState)([]),[t,s]=Object(l.useState)({name:"",roll_no:"",program:"",semester:"",academic_year:""}),c=async()=>{const e=await m.a.get("http://localhost:5000/api/students");a(e.data.students)};Object(l.useEffect)(()=>{c()},[]);const r=e=>{s({...t,[e.target.name]:e.target.value})};return n.a.createElement("div",null,n.a.createElement("h3",null,"Students"),n.a.createElement("form",{onSubmit:async e=>{e.preventDefault(),await m.a.post("http://localhost:5000/api/students",t),s({name:"",roll_no:"",program:"",semester:"",academic_year:""}),c()},className:"row g-3 mb-4"},n.a.createElement("div",{className:"col-md-3"},n.a.createElement("label",{className:"form-label"},"Name"),n.a.createElement("input",{className:"form-control",name:"name",value:t.name,onChange:r,required:!0})),n.a.createElement("div",{className:"col-md-3"},n.a.createElement("label",{className:"form-label"},"Roll No"),n.a.createElement("input",{className:"form-control",name:"roll_no",value:t.roll_no,onChange:r})),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("label",{className:"form-label"},"Program"),n.a.createElement("input",{className:"form-control",name:"program",value:t.program,onChange:r})),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("label",{className:"form-label"},"Semester"),n.a.createElement("input",{className:"form-control",type:"number",name:"semester",value:t.semester,onChange:r})),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("label",{className:"form-label"},"Academic Year"),n.a.createElement("input",{className:"form-control",name:"academic_year",value:t.academic_year,onChange:r})),n.a.createElement("div",{className:"col-12"},n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Add Student"))),n.a.createElement("ul",{className:"list-group"},e.map(e=>n.a.createElement("li",{key:e.id,className:"list-group-item"},e.name," (Roll No: ",e.roll_no,") - Program: ",e.program,", Sem: ",e.semester,", Year: ",e.academic_year))))};var b=function(){const[e,a]=Object(l.useState)([]),[t,s]=Object(l.useState)({name:"",code:"",program:"",semester:"",academic_year:""}),c=async()=>{const e=await m.a.get("http://localhost:5000/api/courses");a(e.data.courses)};Object(l.useEffect)(()=>{c()},[]);const r=e=>{s({...t,[e.target.name]:e.target.value})};return n.a.createElement("div",null,n.a.createElement("h3",null,"Courses"),n.a.createElement("form",{onSubmit:async e=>{e.preventDefault(),await m.a.post("http://localhost:5000/api/courses",t),s({name:"",code:"",program:"",semester:"",academic_year:""}),c()},className:"row g-3 mb-4"},n.a.createElement("div",{className:"col-md-3"},n.a.createElement("label",{className:"form-label"},"Name"),n.a.createElement("input",{className:"form-control",name:"name",value:t.name,onChange:r,required:!0})),n.a.createElement("div",{className:"col-md-3"},n.a.createElement("label",{className:"form-label"},"Code"),n.a.createElement("input",{className:"form-control",name:"code",value:t.code,onChange:r})),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("label",{className:"form-label"},"Program"),n.a.createElement("input",{className:"form-control",name:"program",value:t.program,onChange:r})),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("label",{className:"form-label"},"Semester"),n.a.createElement("input",{className:"form-control",type:"number",name:"semester",value:t.semester,onChange:r})),n.a.createElement("div",{className:"col-md-2"},n.a.createElement("label",{className:"form-label"},"Academic Year"),n.a.createElement("input",{className:"form-control",name:"academic_year",value:t.academic_year,onChange:r})),n.a.createElement("div",{className:"col-12"},n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Add Course"))),n.a.createElement("ul",{className:"list-group"},e.map(e=>n.a.createElement("li",{key:e.id,className:"list-group-item"},e.name," (",e.code,") - ",e.program,", Sem: ",e.semester,", Year: ",e.academic_year))))};var p=function(e){let{studentId:a,assessmentId:t}=e;const[s,c]=Object(l.useState)([]),[r,o]=Object(l.useState)([]),[u,i]=Object(l.useState)(a||""),[d,E]=Object(l.useState)(t||""),[b,p]=Object(l.useState)(null);Object(l.useEffect)(()=>{v(),g()},[]);const v=async()=>{const e=await m.a.get("http://localhost:5000/api/students");c(e.data.students)},g=async()=>{const e=await m.a.get("http://localhost:5000/api/assessments");o(e.data.assessments)};return n.a.createElement("div",null,n.a.createElement("h4",null,"Student Bloom's-Level Report"),n.a.createElement("div",{className:"row g-3 mb-3"},n.a.createElement("div",{className:"col-md-4"},n.a.createElement("label",{className:"form-label"},"Select Student"),n.a.createElement("select",{className:"form-select",value:u,onChange:e=>i(e.target.value)},n.a.createElement("option",{value:""},"-- Choose Student --"),s.map(e=>n.a.createElement("option",{key:e.id,value:e.id},e.name," (Roll: ",e.roll_no,")")))),n.a.createElement("div",{className:"col-md-4"},n.a.createElement("label",{className:"form-label"},"Select Assessment"),n.a.createElement("select",{className:"form-select",value:d,onChange:e=>E(e.target.value)},n.a.createElement("option",{value:""},"-- Choose Assessment --"),r.map(e=>n.a.createElement("option",{key:e.id,value:e.id},e.name," (",e.date||"No Date",")")))),n.a.createElement("div",{className:"col-md-4 d-flex align-items-end"},n.a.createElement("button",{className:"btn btn-primary w-100",onClick:async()=>{if(!u||!d)return void alert("Select both student and assessment.");const e=await m.a.get(`http://localhost:5000/api/attempts/report/${u}/${d}`);p(e.data.levelSummary)}},"Fetch Report"))),!b&&n.a.createElement("p",null,'Select student & assessment, then click "Fetch Report".'),b&&n.a.createElement(n.a.Fragment,null,n.a.createElement("table",{className:"table table-striped"},n.a.createElement("thead",null,n.a.createElement("tr",null,n.a.createElement("th",null,"Level"),n.a.createElement("th",null,"Correct"),n.a.createElement("th",null,"Total"),n.a.createElement("th",null,"Percentage"))),n.a.createElement("tbody",null,Object.entries(b).map(e=>{let[a,t]=e;const{correct:l,total:s}=t,c=s>0?(l/s*100).toFixed(1)+"%":"N/A";return n.a.createElement("tr",{key:a},n.a.createElement("td",null,a),n.a.createElement("td",null,l),n.a.createElement("td",null,s),n.a.createElement("td",null,c))})))))};var v=function(e){let{user:a,onLogout:t}=e;const[s,c]=Object(l.useState)("questions"),[m,i]=Object(l.useState)(null);return Object(l.useEffect)(()=>{const e=localStorage.getItem("currentView");e&&c(e)},[]),Object(l.useEffect)(()=>{localStorage.setItem("currentView",s)},[s]),n.a.createElement("div",null,n.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark"},n.a.createElement("div",{className:"container-fluid"},n.a.createElement("span",{className:"navbar-brand"},"Blooms Taxonomy"),n.a.createElement("button",{className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},n.a.createElement("span",{className:"navbar-toggler-icon"})),n.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},n.a.createElement("ul",{className:"navbar-nav ms-auto"},n.a.createElement("li",{className:"nav-item"},n.a.createElement("button",{className:"nav-link btn btn-link",onClick:()=>c("questions")},"Questions")),n.a.createElement("li",{className:"nav-item"},n.a.createElement("button",{className:"nav-link btn btn-link",onClick:()=>c("assessments")},"Assessments")),n.a.createElement("li",{className:"nav-item"},n.a.createElement("button",{className:"nav-link btn btn-link",onClick:()=>c("students")},"Students")),n.a.createElement("li",{className:"nav-item"},n.a.createElement("button",{className:"nav-link btn btn-link",onClick:()=>c("courses")},"Courses")),n.a.createElement("li",{className:"nav-item"},n.a.createElement("button",{className:"nav-link btn btn-link",onClick:()=>c("studentReport")},"Student Bloom Report")),n.a.createElement("li",{className:"nav-item"},n.a.createElement("button",{className:"nav-link btn btn-link text-warning",onClick:t},"Logout")))))),n.a.createElement("div",{className:"container my-4"},"questions"===s&&n.a.createElement(r,null),"assessments"===s&&n.a.createElement(o,{onSelectAssessment:e=>{i(e),c("assessmentDetail")},onViewReport:e=>{i(e),c("assessmentReport")}}),"students"===s&&n.a.createElement(E,null),"courses"===s&&n.a.createElement(b,null),"assessmentDetail"===s&&m&&n.a.createElement(u,{assessmentId:m}),"assessmentReport"===s&&m&&n.a.createElement(d,{assessmentId:m}),"studentReport"===s&&n.a.createElement(p,{studentId:1,assessmentId:1})))};var g=function(){const[e,a]=Object(l.useState)(null);return Object(l.useEffect)(()=>{const e=localStorage.getItem("loggedInUser");e&&a(JSON.parse(e))},[]),n.a.createElement("div",null,n.a.createElement(v,{user:e,onLogout:()=>{a(null),localStorage.removeItem("loggedInUser"),localStorage.removeItem("currentView")}}))};t(29),t(30);c.a.createRoot(document.getElementById("root")).render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(g,null)))}},[[17,1,2]]]);
//# sourceMappingURL=main.88b731e7.chunk.js.map